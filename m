Return-Path: <linux-mediatek-bounces+lists+linux-mediatek=lfdr.de@lists.infradead.org>
X-Original-To: lists+linux-mediatek@lfdr.de
Delivered-To: lists+linux-mediatek@lfdr.de
Received: from bombadil.infradead.org (bombadil.infradead.org [IPv6:2607:7c80:54:e::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 6B88273827
	for <lists+linux-mediatek@lfdr.de>; Wed, 24 Jul 2019 21:26:33 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.infradead.org; s=bombadil.20170209; h=Sender:
	Content-Transfer-Encoding:Content-Type:Cc:List-Subscribe:List-Help:List-Post:
	List-Archive:List-Unsubscribe:List-Id:MIME-Version:References:In-Reply-To:
	Message-Id:Date:Subject:To:From:Reply-To:Content-ID:Content-Description:
	Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
	List-Owner; bh=F0J3RlPo5gm48Y6Gkv8RULvA1sSitLWFSBsq7QBvjf4=; b=hYq5sAX81io/lA
	e8GJ0SysmqFhMclvTmm6NuKgM+mDFh/S0RdGTuMfnOHWB8Tggw+U7+yi1dM0/OlO2y5Xul0nNRl1s
	OTm16+FQMwFkuFQOR2f28QpEpj5JB6rGLQ51KBhtJzAEgBavKmKpSEtCo5iTHrge34lqRlfZAB6Ow
	ggklVJ7bMBieUcMy2szNQgqbimSXNf4P9KKEEfSkpz8H0sENrGiFWVulM793FOq2ypHV6CH20yR5E
	k9UZZWKAvyT7AQkcPMglKZm7NGeJ6XayQS4YOdINBDls9W2TxEroBP0fxZaGJ/swS52ykuyIL7E0N
	p1GcYpPzg1RiXlfEtQMg==;
Received: from localhost ([127.0.0.1] helo=bombadil.infradead.org)
	by bombadil.infradead.org with esmtp (Exim 4.92 #3 (Red Hat Linux))
	id 1hqMuC-0007lC-Ro; Wed, 24 Jul 2019 19:26:28 +0000
Received: from mx.0dd.nl ([2a04:52c0:101:921::25])
 by bombadil.infradead.org with esmtp (Exim 4.92 #3 (Red Hat Linux))
 id 1hqMu4-0007ee-9X
 for linux-mediatek@lists.infradead.org; Wed, 24 Jul 2019 19:26:23 +0000
Received: from mail.vdorst.com (mail.vdorst.com [IPv6:fd01::250])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mx.0dd.nl (Postfix) with ESMTPS id 7E7E45FEA6;
 Wed, 24 Jul 2019 21:26:19 +0200 (CEST)
Authentication-Results: mx.0dd.nl;
 dkim=pass (2048-bit key) header.d=vdorst.com header.i=@vdorst.com
 header.b="jcreP32V"; dkim-atps=neutral
Received: from pc-rene.vdorst.com (pc-rene.vdorst.com [192.168.2.125])
 by mail.vdorst.com (Postfix) with ESMTPA id F3BA21D25D3A;
 Wed, 24 Jul 2019 21:26:18 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 mail.vdorst.com F3BA21D25D3A
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=vdorst.com;
 s=default; t=1563996379;
 bh=v42mfgYB8z+fNhAakpPFeHoGNCreOow3Pqb2kVWpTUs=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=jcreP32VhADIPXEbcBs6R2Q81dI2Kow6/e3AAzoiCJx2LTniAh+ib0JV+pvIt2Mdp
 mb4/DNNfsmsFMXZnKWvC/+L9ONNwKT7Mm5c//VVwUnWfM3tNbGvzNmxPzYX4C0TfFp
 G0SD2uL9W5CqlfZVVZcZZq8FygEQ29kEDb+t7O4GJ4l2W9BSsrw3rzxpdUcHl4+Po5
 yw/SSLupSlAb8+0/mNiUWG//6uDbKFN/slrumzWLCz7PyXyIzdorpQLgctSMtgAV7P
 +Sp6/IWgvZvi4JpX2rVBjidd/v1w/XT/S4gGVZYzToU/++KE9PzDbi+0k7tcddkuH4
 l5B85W/+PnCog==
From: =?UTF-8?q?Ren=C3=A9=20van=20Dorst?= <opensource@vdorst.com>
To: netdev@vger.kernel.org
Subject: [PATCH net-next 1/3] net: dsa: mt7530: Convert to PHYLINK API
Date: Wed, 24 Jul 2019 21:25:47 +0200
Message-Id: <20190724192549.24615-2-opensource@vdorst.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190724192549.24615-1-opensource@vdorst.com>
References: <20190724192549.24615-1-opensource@vdorst.com>
MIME-Version: 1.0
X-CRM114-Version: 20100106-BlameMichelson ( TRE 0.8.0 (BSD) ) MR-646709E3 
X-CRM114-CacheID: sfid-20190724_122620_608392_B56880D7 
X-CRM114-Status: GOOD (  17.54  )
X-Spam-Score: -0.2 (/)
X-Spam-Report: SpamAssassin version 3.4.2 on bombadil.infradead.org summary:
 Content analysis details:   (-0.2 points)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 SPF_PASS               SPF: sender matches SPF record
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
X-BeenThere: linux-mediatek@lists.infradead.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <linux-mediatek.lists.infradead.org>
List-Unsubscribe: <http://lists.infradead.org/mailman/options/linux-mediatek>, 
 <mailto:linux-mediatek-request@lists.infradead.org?subject=unsubscribe>
List-Archive: <http://lists.infradead.org/pipermail/linux-mediatek/>
List-Post: <mailto:linux-mediatek@lists.infradead.org>
List-Help: <mailto:linux-mediatek-request@lists.infradead.org?subject=help>
List-Subscribe: <http://lists.infradead.org/mailman/listinfo/linux-mediatek>, 
 <mailto:linux-mediatek-request@lists.infradead.org?subject=subscribe>
Cc: andrew@lunn.ch, f.fainelli@gmail.com, frank-w@public-files.de,
 sean.wang@mediatek.com, linux@armlinux.org.uk, vivien.didelot@gmail.com,
 =?UTF-8?q?Ren=C3=A9=20van=20Dorst?= <opensource@vdorst.com>,
 devicetree@vger.kernel.org, robh+dt@kernel.org,
 linux-mediatek@lists.infradead.org, john@phrozen.org, matthias.bgg@gmail.com,
 linux-mips@vger.kernel.org, davem@davemloft.net
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: "Linux-mediatek" <linux-mediatek-bounces@lists.infradead.org>
Errors-To: linux-mediatek-bounces+lists+linux-mediatek=lfdr.de@lists.infradead.org

Q29udmVydCBtdDc1MzAgdG8gUEhZTElOSyBBUEkKClNpZ25lZC1vZmYtYnk6IFJlbsOpIHZhbiBE
b3JzdCA8b3BlbnNvdXJjZUB2ZG9yc3QuY29tPgoKcmZjLT52MToKKiBSZW5hbWVkIFA1X01PREVf
KiB0byBQNV9JTlRGX1NFTF8qLiBmaXRzIHRoZSBmdW5jdGlvbiBtb3JlCiogQ29udmVydCBpZi1z
dGF0ZW1lbnQgZm9yIHNwZWVkIGJpdHMgdG8gYSBzd2l0Y2ggc3VnZ2VzdGVkIGJ5CiAgRGFuaWVs
IFNhbnRvcwoqIFJlZmFjdG9yIGZsb3dfY29udHJvbCBwYXVzZSBiaXRzIGFuZCBkb24ndCB1c2Ug
c3RhdGUtPmxpbmsgaW4KICBtdDc1MzBfcGh5bGlua19tYWNfY29uZmlnKCkgc3VnZ2VzdGVkIGJ5
IFJ1c3NlbGwgS2luZwoqIE1vdmUgTUFDIHR4L3J4IGVuL2Rpc2FibGUgdG8gbXQ3NTMwX3BoeWxp
bmtfbWFjX2xpbmtfdXAvZG93bigpCiAgc3VnZ2VzdGVkIGJ5IFJ1c3NlbGwgS2luZwoqIEFsd2F5
cyBzdXBwb3J0IFBIWV9JTlRFUkZBQ0VfTU9ERV9OQSBpbiBtdDc1MzBfcGh5bGlua192YWxpZGF0
ZSgpCiAgc3VnZ2VzdGVkIGJ5IFJ1c3NlbGwgS2luZwoqIEFkZGVkIHBoeWxpbmtfc2V0X3BvcnRf
bW9kZXMoKSBpbiBtdDc1MzBfcGh5bGlua192YWxpZGF0ZSgpIHN1Z2dlc3RlZAogIGJ5IFJ1c3Nl
bGwgS2luZwoqIFJlbW92ZSBkZXZfZXJyIG9uIHRoZSBlbmQgb2YgbXQ3NTMwX3BoeWxpbmtfbWFj
X2NvbmZpZygpIHN1Z2dlc3RlZCBieQogIFJ1c3NlbGwgS2luZwotLS0KIGRyaXZlcnMvbmV0L2Rz
YS9tdDc1MzAuYyB8IDI1NSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0K
IGRyaXZlcnMvbmV0L2RzYS9tdDc1MzAuaCB8ICAzMiArKystLQogMiBmaWxlcyBjaGFuZ2VkLCAy
MDMgaW5zZXJ0aW9ucygrKSwgODQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9u
ZXQvZHNhL210NzUzMC5jIGIvZHJpdmVycy9uZXQvZHNhL210NzUzMC5jCmluZGV4IDMxODFlOTU1
ODZkNi4uNzNhMjIwNGJmODFhIDEwMDY0NAotLS0gYS9kcml2ZXJzL25ldC9kc2EvbXQ3NTMwLmMK
KysrIGIvZHJpdmVycy9uZXQvZHNhL210NzUzMC5jCkBAIC0xMyw3ICsxMyw3IEBACiAjaW5jbHVk
ZSA8bGludXgvb2ZfbWRpby5oPgogI2luY2x1ZGUgPGxpbnV4L29mX25ldC5oPgogI2luY2x1ZGUg
PGxpbnV4L29mX3BsYXRmb3JtLmg+Ci0jaW5jbHVkZSA8bGludXgvcGh5Lmg+CisjaW5jbHVkZSA8
bGludXgvcGh5bGluay5oPgogI2luY2x1ZGUgPGxpbnV4L3JlZ21hcC5oPgogI2luY2x1ZGUgPGxp
bnV4L3JlZ3VsYXRvci9jb25zdW1lci5oPgogI2luY2x1ZGUgPGxpbnV4L3Jlc2V0Lmg+CkBAIC02
MzMsNjMgKzYzMyw2IEBAIG10NzUzMF9nZXRfc3NldF9jb3VudChzdHJ1Y3QgZHNhX3N3aXRjaCAq
ZHMsIGludCBwb3J0LCBpbnQgc3NldCkKIAlyZXR1cm4gQVJSQVlfU0laRShtdDc1MzBfbWliKTsK
IH0KIAotc3RhdGljIHZvaWQgbXQ3NTMwX2FkanVzdF9saW5rKHN0cnVjdCBkc2Ffc3dpdGNoICpk
cywgaW50IHBvcnQsCi0JCQkgICAgICAgc3RydWN0IHBoeV9kZXZpY2UgKnBoeWRldikKLXsKLQlz
dHJ1Y3QgbXQ3NTMwX3ByaXYgKnByaXYgPSBkcy0+cHJpdjsKLQotCWlmIChwaHlfaXNfcHNldWRv
X2ZpeGVkX2xpbmsocGh5ZGV2KSkgewotCQlkZXZfZGJnKHByaXYtPmRldiwgInBoeS1tb2RlIGZv
ciBtYXN0ZXIgZGV2aWNlID0gJXhcbiIsCi0JCQlwaHlkZXYtPmludGVyZmFjZSk7Ci0KLQkJLyog
U2V0dXAgVFggY2lyY3VpdCBpbmNsdWluZyByZWxldmFudCBQQUQgYW5kIGRyaXZpbmcgKi8KLQkJ
bXQ3NTMwX3BhZF9jbGtfc2V0dXAoZHMsIHBoeWRldi0+aW50ZXJmYWNlKTsKLQotCQlpZiAocHJp
di0+aWQgPT0gSURfTVQ3NTMwKSB7Ci0JCQkvKiBTZXR1cCBSWCBjaXJjdWl0LCByZWxldmFudCBQ
QUQgYW5kIGRyaXZpbmcgb24gdGhlCi0JCQkgKiBob3N0IHdoaWNoIG11c3QgYmUgcGxhY2VkIGFm
dGVyIHRoZSBzZXR1cCBvbiB0aGUKLQkJCSAqIGRldmljZSBzaWRlIGlzIGFsbCBmaW5pc2hlZC4K
LQkJCSAqLwotCQkJbXQ3NjIzX3BhZF9jbGtfc2V0dXAoZHMpOwotCQl9Ci0JfSBlbHNlIHsKLQkJ
dTE2IGxjbF9hZHYgPSAwLCBybXRfYWR2ID0gMDsKLQkJdTggZmxvd2N0cmw7Ci0JCXUzMiBtY3Ig
PSBQTUNSX1VTRVJQX0xJTksgfCBQTUNSX0ZPUkNFX01PREU7Ci0KLQkJc3dpdGNoIChwaHlkZXYt
PnNwZWVkKSB7Ci0JCWNhc2UgU1BFRURfMTAwMDoKLQkJCW1jciB8PSBQTUNSX0ZPUkNFX1NQRUVE
XzEwMDA7Ci0JCQlicmVhazsKLQkJY2FzZSBTUEVFRF8xMDA6Ci0JCQltY3IgfD0gUE1DUl9GT1JD
RV9TUEVFRF8xMDA7Ci0JCQlicmVhazsKLQkJfQotCi0JCWlmIChwaHlkZXYtPmxpbmspCi0JCQlt
Y3IgfD0gUE1DUl9GT1JDRV9MTks7Ci0KLQkJaWYgKHBoeWRldi0+ZHVwbGV4KSB7Ci0JCQltY3Ig
fD0gUE1DUl9GT1JDRV9GRFg7Ci0KLQkJCWlmIChwaHlkZXYtPnBhdXNlKQotCQkJCXJtdF9hZHYg
PSBMUEFfUEFVU0VfQ0FQOwotCQkJaWYgKHBoeWRldi0+YXN5bV9wYXVzZSkKLQkJCQlybXRfYWR2
IHw9IExQQV9QQVVTRV9BU1lNOwotCi0JCQlsY2xfYWR2ID0gbGlua21vZGVfYWR2X3RvX2xjbF9h
ZHZfdCgKLQkJCQlwaHlkZXYtPmFkdmVydGlzaW5nKTsKLQkJCWZsb3djdHJsID0gbWlpX3Jlc29s
dmVfZmxvd2N0cmxfZmR4KGxjbF9hZHYsIHJtdF9hZHYpOwotCi0JCQlpZiAoZmxvd2N0cmwgJiBG
TE9XX0NUUkxfVFgpCi0JCQkJbWNyIHw9IFBNQ1JfVFhfRkNfRU47Ci0JCQlpZiAoZmxvd2N0cmwg
JiBGTE9XX0NUUkxfUlgpCi0JCQkJbWNyIHw9IFBNQ1JfUlhfRkNfRU47Ci0JCX0KLQkJbXQ3NTMw
X3dyaXRlKHByaXYsIE1UNzUzMF9QTUNSX1AocG9ydCksIG1jcik7Ci0JfQotfQotCiBzdGF0aWMg
aW50CiBtdDc1MzBfY3B1X3BvcnRfZW5hYmxlKHN0cnVjdCBtdDc1MzBfcHJpdiAqcHJpdiwKIAkJ
ICAgICAgIGludCBwb3J0KQpAQCAtNjk4LDkgKzY0MSw2IEBAIG10NzUzMF9jcHVfcG9ydF9lbmFi
bGUoc3RydWN0IG10NzUzMF9wcml2ICpwcml2LAogCW10NzUzMF93cml0ZShwcml2LCBNVDc1MzBf
UFZDX1AocG9ydCksCiAJCSAgICAgUE9SVF9TUEVDX1RBRyk7CiAKLQkvKiBTZXR1cCB0aGUgTUFD
IGJ5IGRlZmF1bHQgZm9yIHRoZSBjcHUgcG9ydCAqLwotCW10NzUzMF93cml0ZShwcml2LCBNVDc1
MzBfUE1DUl9QKHBvcnQpLCBQTUNSX0NQVVBfTElOSyk7Ci0KIAkvKiBEaXNhYmxlIGF1dG8gbGVh
cm5pbmcgb24gdGhlIGNwdSBwb3J0ICovCiAJbXQ3NTMwX3NldChwcml2LCBNVDc1MzBfUFNDX1Ao
cG9ydCksIFNBX0RJUyk7CiAKQEAgLTcyOCw5ICs2NjgsNiBAQCBtdDc1MzBfcG9ydF9lbmFibGUo
c3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwKIAogCW11dGV4X2xvY2soJnByaXYtPnJl
Z19tdXRleCk7CiAKLQkvKiBTZXR1cCB0aGUgTUFDIGZvciB0aGUgdXNlciBwb3J0ICovCi0JbXQ3
NTMwX3dyaXRlKHByaXYsIE1UNzUzMF9QTUNSX1AocG9ydCksIFBNQ1JfVVNFUlBfTElOSyk7Ci0K
IAkvKiBBbGxvdyB0aGUgdXNlciBwb3J0IGdldHMgY29ubmVjdGVkIHRvIHRoZSBjcHUgcG9ydCBh
bmQgYWxzbwogCSAqIHJlc3RvcmUgdGhlIHBvcnQgbWF0cml4IGlmIHRoZSBwb3J0IGlzIHRoZSBt
ZW1iZXIgb2YgYSBjZXJ0YWluCiAJICogYnJpZGdlLgpAQCAtNzM5LDcgKzY3Niw3IEBAIG10NzUz
MF9wb3J0X2VuYWJsZShzdHJ1Y3QgZHNhX3N3aXRjaCAqZHMsIGludCBwb3J0LAogCXByaXYtPnBv
cnRzW3BvcnRdLmVuYWJsZSA9IHRydWU7CiAJbXQ3NTMwX3Jtdyhwcml2LCBNVDc1MzBfUENSX1Ao
cG9ydCksIFBDUl9NQVRSSVhfTUFTSywKIAkJICAgcHJpdi0+cG9ydHNbcG9ydF0ucG0pOwotCW10
NzUzMF9wb3J0X3NldF9zdGF0dXMocHJpdiwgcG9ydCwgMSk7CisJbXQ3NTMwX3BvcnRfc2V0X3N0
YXR1cyhwcml2LCBwb3J0LCAwKTsKIAogCW11dGV4X3VubG9jaygmcHJpdi0+cmVnX211dGV4KTsK
IApAQCAtMTI5OSw2ICsxMjM2LDggQEAgbXQ3NTMwX3NldHVwKHN0cnVjdCBkc2Ffc3dpdGNoICpk
cykKIAl2YWwgfD0gTUhXVFJBUF9NQU5VQUw7CiAJbXQ3NTMwX3dyaXRlKHByaXYsIE1UNzUzMF9N
SFdUUkFQLCB2YWwpOwogCisJcHJpdi0+cDZfaW50ZXJmYWNlID0gUEhZX0lOVEVSRkFDRV9NT0RF
X05BOworCiAJLyogRW5hYmxlIGFuZCByZXNldCBNSUIgY291bnRlcnMgKi8KIAltdDc1MzBfbWli
X3Jlc2V0KGRzKTsKIApAQCAtMTMyMyw2ICsxMjYyLDE4NiBAQCBtdDc1MzBfc2V0dXAoc3RydWN0
IGRzYV9zd2l0Y2ggKmRzKQogCXJldHVybiAwOwogfQogCitzdGF0aWMgdm9pZCBtdDc1MzBfcGh5
bGlua19tYWNfY29uZmlnKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsCisJCQkJICAg
ICAgdW5zaWduZWQgaW50IG1vZGUsCisJCQkJICAgICAgY29uc3Qgc3RydWN0IHBoeWxpbmtfbGlu
a19zdGF0ZSAqc3RhdGUpCit7CisJc3RydWN0IG10NzUzMF9wcml2ICpwcml2ID0gZHMtPnByaXY7
CisJdTMyIG1jcl9jdXIsIG1jcl9uZXc7CisKKwlzd2l0Y2ggKHBvcnQpIHsKKwljYXNlIDA6IC8q
IEludGVybmFsIHBoeSAqLworCWNhc2UgMToKKwljYXNlIDI6CisJY2FzZSAzOgorCWNhc2UgNDoK
KwkJaWYgKHN0YXRlLT5pbnRlcmZhY2UgIT0gUEhZX0lOVEVSRkFDRV9NT0RFX0dNSUkpCisJCQly
ZXR1cm47CisJCWJyZWFrOworCS8qIGNhc2UgNTogUG9ydCA1IGlzIG5vdCBzdXBwb3J0ZWQhICov
CisJY2FzZSA2OiAvKiAxc3QgY3B1IHBvcnQgKi8KKwkJaWYgKHN0YXRlLT5pbnRlcmZhY2UgIT0g
UEhZX0lOVEVSRkFDRV9NT0RFX1JHTUlJICYmCisJCSAgICBzdGF0ZS0+aW50ZXJmYWNlICE9IFBI
WV9JTlRFUkZBQ0VfTU9ERV9UUkdNSUkpCisJCQlyZXR1cm47CisKKwkJaWYgKHByaXYtPnA2X2lu
dGVyZmFjZSA9PSBzdGF0ZS0+aW50ZXJmYWNlKQorCQkJYnJlYWs7CisJCS8qIFNldHVwIFRYIGNp
cmN1aXQgaW5jbHVpbmcgcmVsZXZhbnQgUEFEIGFuZCBkcml2aW5nICovCisJCW10NzUzMF9wYWRf
Y2xrX3NldHVwKGRzLCBzdGF0ZS0+aW50ZXJmYWNlKTsKKworCQlpZiAocHJpdi0+aWQgPT0gSURf
TVQ3NTMwKSB7CisJCQkvKiBTZXR1cCBSWCBjaXJjdWl0LCByZWxldmFudCBQQUQgYW5kIGRyaXZp
bmcgb24gdGhlCisJCQkgKiBob3N0IHdoaWNoIG11c3QgYmUgcGxhY2VkIGFmdGVyIHRoZSBzZXR1
cCBvbiB0aGUKKwkJCSAqIGRldmljZSBzaWRlIGlzIGFsbCBmaW5pc2hlZC4KKwkJCSAqLworCQkJ
bXQ3NjIzX3BhZF9jbGtfc2V0dXAoZHMpOworCQl9CisJCXByaXYtPnA2X2ludGVyZmFjZSA9IHN0
YXRlLT5pbnRlcmZhY2U7CisJCWJyZWFrOworCWRlZmF1bHQ6CisJCWRldl9lcnIoZHMtPmRldiwg
IiVzOiB1bnN1cHBvcnRlZCBwb3J0OiAlaVxuIiwgX19mdW5jX18sIHBvcnQpOworCQlyZXR1cm47
CisJfQorCisJbWNyX2N1ciA9IG10NzUzMF9yZWFkKHByaXYsIE1UNzUzMF9QTUNSX1AocG9ydCkp
OworCW1jcl9uZXcgPSBtY3JfY3VyOworCW1jcl9uZXcgJj0gfihQTUNSX0ZPUkNFX1NQRUVEXzEw
MDAgfCBQTUNSX0ZPUkNFX1NQRUVEXzEwMCB8CisJCSAgICAgUE1DUl9GT1JDRV9GRFggfCBQTUNS
X1RYX0ZDX0VOIHwgUE1DUl9SWF9GQ19FTik7CisJbWNyX25ldyB8PSBQTUNSX0lGR19YTUlUKDEp
IHwgUE1DUl9NQUNfTU9ERSB8IFBNQ1JfQkFDS09GRl9FTiB8CisJCSAgIFBNQ1JfQkFDS1BSX0VO
IHwgUE1DUl9GT1JDRV9NT0RFIHwgUE1DUl9GT1JDRV9MTks7CisKKwlzd2l0Y2ggKHN0YXRlLT5z
cGVlZCkgeworCWNhc2UgU1BFRURfMTAwMDoKKwkJbWNyX25ldyB8PSBQTUNSX0ZPUkNFX1NQRUVE
XzEwMDA7CisJCWJyZWFrOworCWNhc2UgU1BFRURfMTAwOgorCQltY3JfbmV3IHw9IFBNQ1JfRk9S
Q0VfU1BFRURfMTAwOworCQlicmVhazsKKwl9CisJaWYgKHN0YXRlLT5kdXBsZXggPT0gRFVQTEVY
X0ZVTEwpIHsKKwkJbWNyX25ldyB8PSBQTUNSX0ZPUkNFX0ZEWDsKKwkJaWYgKHN0YXRlLT5wYXVz
ZSAmIE1MT19QQVVTRV9UWCkKKwkJCW1jcl9uZXcgfD0gUE1DUl9UWF9GQ19FTjsKKwkJaWYgKHN0
YXRlLT5wYXVzZSAmIE1MT19QQVVTRV9SWCkKKwkJCW1jcl9uZXcgfD0gUE1DUl9SWF9GQ19FTjsK
Kwl9CisKKwlpZiAobWNyX25ldyAhPSBtY3JfY3VyKQorCQltdDc1MzBfd3JpdGUocHJpdiwgTVQ3
NTMwX1BNQ1JfUChwb3J0KSwgbWNyX25ldyk7Cit9CisKK3N0YXRpYyB2b2lkIG10NzUzMF9waHls
aW5rX21hY19saW5rX2Rvd24oc3RydWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwKKwkJCQkJ
IHVuc2lnbmVkIGludCBtb2RlLAorCQkJCQkgcGh5X2ludGVyZmFjZV90IGludGVyZmFjZSkKK3sK
KwlzdHJ1Y3QgbXQ3NTMwX3ByaXYgKnByaXYgPSBkcy0+cHJpdjsKKworCW10NzUzMF9wb3J0X3Nl
dF9zdGF0dXMocHJpdiwgcG9ydCwgMCk7Cit9CisKK3N0YXRpYyB2b2lkIG10NzUzMF9waHlsaW5r
X21hY19saW5rX3VwKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsCisJCQkJICAgICAg
IHVuc2lnbmVkIGludCBtb2RlLAorCQkJCSAgICAgICBwaHlfaW50ZXJmYWNlX3QgaW50ZXJmYWNl
LAorCQkJCSAgICAgICBzdHJ1Y3QgcGh5X2RldmljZSAqcGh5ZGV2KQoreworCXN0cnVjdCBtdDc1
MzBfcHJpdiAqcHJpdiA9IGRzLT5wcml2OworCisJbXQ3NTMwX3BvcnRfc2V0X3N0YXR1cyhwcml2
LCBwb3J0LCAxKTsKK30KKworc3RhdGljIHZvaWQgbXQ3NTMwX3BoeWxpbmtfdmFsaWRhdGUoc3Ry
dWN0IGRzYV9zd2l0Y2ggKmRzLCBpbnQgcG9ydCwKKwkJCQkgICAgdW5zaWduZWQgbG9uZyAqc3Vw
cG9ydGVkLAorCQkJCSAgICBzdHJ1Y3QgcGh5bGlua19saW5rX3N0YXRlICpzdGF0ZSkKK3sKKwlf
X0VUSFRPT0xfREVDTEFSRV9MSU5LX01PREVfTUFTSyhtYXNrKSA9IHsgMCwgfTsKKworCXN3aXRj
aCAocG9ydCkgeworCWNhc2UgMDogLyogSW50ZXJuYWwgcGh5ICovCisJY2FzZSAxOgorCWNhc2Ug
MjoKKwljYXNlIDM6CisJY2FzZSA0OgorCQlpZiAoc3RhdGUtPmludGVyZmFjZSAhPSBQSFlfSU5U
RVJGQUNFX01PREVfTkEgJiYKKwkJICAgIHN0YXRlLT5pbnRlcmZhY2UgIT0gUEhZX0lOVEVSRkFD
RV9NT0RFX0dNSUkpCisJCQlnb3RvIHVuc3VwcG9ydGVkOworCQlicmVhazsKKwkvKiBjYXNlIDU6
IFBvcnQgNSBub3Qgc3VwcG9ydGVkISAqLworCWNhc2UgNjogLyogMXN0IGNwdSBwb3J0ICovCisJ
CWlmIChzdGF0ZS0+aW50ZXJmYWNlICE9IFBIWV9JTlRFUkZBQ0VfTU9ERV9OQSAmJgorCQkgICAg
c3RhdGUtPmludGVyZmFjZSAhPSBQSFlfSU5URVJGQUNFX01PREVfUkdNSUkgJiYKKwkJICAgIHN0
YXRlLT5pbnRlcmZhY2UgIT0gUEhZX0lOVEVSRkFDRV9NT0RFX1RSR01JSSkKKwkJCWdvdG8gdW5z
dXBwb3J0ZWQ7CisJCWJyZWFrOworCWRlZmF1bHQ6CisJCWxpbmttb2RlX3plcm8oc3VwcG9ydGVk
KTsKKwkJZGV2X2Vycihkcy0+ZGV2LCAiJXM6IHVuc3VwcG9ydGVkIHBvcnQ6ICVpXG4iLCBfX2Z1
bmNfXywgcG9ydCk7CisJCXJldHVybjsKKwl9CisKKwlwaHlsaW5rX3NldF9wb3J0X21vZGVzKG1h
c2spOworCXBoeWxpbmtfc2V0KG1hc2ssIEF1dG9uZWcpOworCisJaWYgKHN0YXRlLT5pbnRlcmZh
Y2UgIT0gUEhZX0lOVEVSRkFDRV9NT0RFX1RSR01JSSkgeworCQlwaHlsaW5rX3NldChtYXNrLCAx
MGJhc2VUX0hhbGYpOworCQlwaHlsaW5rX3NldChtYXNrLCAxMGJhc2VUX0Z1bGwpOworCQlwaHls
aW5rX3NldChtYXNrLCAxMDBiYXNlVF9IYWxmKTsKKwkJcGh5bGlua19zZXQobWFzaywgMTAwYmFz
ZVRfRnVsbCk7CisJCXBoeWxpbmtfc2V0KG1hc2ssIDEwMDBiYXNlVF9IYWxmKTsKKwl9CisKKwlw
aHlsaW5rX3NldChtYXNrLCAxMDAwYmFzZVRfRnVsbCk7CisKKwlwaHlsaW5rX3NldChtYXNrLCBQ
YXVzZSk7CisJcGh5bGlua19zZXQobWFzaywgQXN5bV9QYXVzZSk7CisKKwlsaW5rbW9kZV9hbmQo
c3VwcG9ydGVkLCBzdXBwb3J0ZWQsIG1hc2spOworCWxpbmttb2RlX2FuZChzdGF0ZS0+YWR2ZXJ0
aXNpbmcsIHN0YXRlLT5hZHZlcnRpc2luZywgbWFzayk7CisJcmV0dXJuOworCit1bnN1cHBvcnRl
ZDoKKwlsaW5rbW9kZV96ZXJvKHN1cHBvcnRlZCk7Cit9CisKK3N0YXRpYyBpbnQKK210NzUzMF9w
aHlsaW5rX21hY19saW5rX3N0YXRlKHN0cnVjdCBkc2Ffc3dpdGNoICpkcywgaW50IHBvcnQsCisJ
CQkgICAgICBzdHJ1Y3QgcGh5bGlua19saW5rX3N0YXRlICpzdGF0ZSkKK3sKKwlzdHJ1Y3QgbXQ3
NTMwX3ByaXYgKnByaXYgPSBkcy0+cHJpdjsKKwl1MzIgcG1zcjsKKworCWlmIChwb3J0IDwgMCB8
fCBwb3J0ID49IE1UNzUzMF9OVU1fUE9SVFMpCisJCXJldHVybiAtRUlOVkFMOworCisJcG1zciA9
IG10NzUzMF9yZWFkKHByaXYsIE1UNzUzMF9QTVNSX1AocG9ydCkpOworCisJc3RhdGUtPmxpbmsg
PSAocG1zciAmIFBNU1JfTElOSyk7CisJc3RhdGUtPmFuX2NvbXBsZXRlID0gc3RhdGUtPmxpbms7
CisJc3RhdGUtPmR1cGxleCA9ICEhKHBtc3IgJiBQTVNSX0RQWCk7CisKKwlzd2l0Y2ggKHBtc3Ig
JiBQTVNSX1NQRUVEX01BU0spIHsKKwljYXNlIFBNU1JfU1BFRURfMTA6CisJCXN0YXRlLT5zcGVl
ZCA9IFNQRUVEXzEwOworCQlicmVhazsKKwljYXNlIFBNU1JfU1BFRURfMTAwOgorCQlzdGF0ZS0+
c3BlZWQgPSBTUEVFRF8xMDA7CisJCWJyZWFrOworCWNhc2UgUE1TUl9TUEVFRF8xMDAwOgorCQlz
dGF0ZS0+c3BlZWQgPSBTUEVFRF8xMDAwOworCQlicmVhazsKKwlkZWZhdWx0OgorCQlzdGF0ZS0+
c3BlZWQgPSBTUEVFRF9VTktOT1dOOworCQlicmVhazsKKwl9CisKKwlzdGF0ZS0+cGF1c2UgJj0g
fihNTE9fUEFVU0VfUlggfCBNTE9fUEFVU0VfVFgpOworCWlmIChwbXNyICYgUE1TUl9SWF9GQykK
KwkJc3RhdGUtPnBhdXNlIHw9IE1MT19QQVVTRV9SWDsKKwlpZiAocG1zciAmIFBNU1JfVFhfRkMp
CisJCXN0YXRlLT5wYXVzZSB8PSBNTE9fUEFVU0VfVFg7CisKKwlyZXR1cm4gMTsKK30KKwogc3Rh
dGljIGNvbnN0IHN0cnVjdCBkc2Ffc3dpdGNoX29wcyBtdDc1MzBfc3dpdGNoX29wcyA9IHsKIAku
Z2V0X3RhZ19wcm90b2NvbAk9IG10a19nZXRfdGFnX3Byb3RvY29sLAogCS5zZXR1cAkJCT0gbXQ3
NTMwX3NldHVwLApAQCAtMTMzMSw3ICsxNDUwLDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkc2Ff
c3dpdGNoX29wcyBtdDc1MzBfc3dpdGNoX29wcyA9IHsKIAkucGh5X3dyaXRlCQk9IG10NzUzMF9w
aHlfd3JpdGUsCiAJLmdldF9ldGh0b29sX3N0YXRzCT0gbXQ3NTMwX2dldF9ldGh0b29sX3N0YXRz
LAogCS5nZXRfc3NldF9jb3VudAkJPSBtdDc1MzBfZ2V0X3NzZXRfY291bnQsCi0JLmFkanVzdF9s
aW5rCQk9IG10NzUzMF9hZGp1c3RfbGluaywKIAkucG9ydF9lbmFibGUJCT0gbXQ3NTMwX3BvcnRf
ZW5hYmxlLAogCS5wb3J0X2Rpc2FibGUJCT0gbXQ3NTMwX3BvcnRfZGlzYWJsZSwKIAkucG9ydF9z
dHBfc3RhdGVfc2V0CT0gbXQ3NTMwX3N0cF9zdGF0ZV9zZXQsCkBAIC0xMzQ0LDYgKzE0NjIsMTEg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkc2Ffc3dpdGNoX29wcyBtdDc1MzBfc3dpdGNoX29wcyA9
IHsKIAkucG9ydF92bGFuX3ByZXBhcmUJPSBtdDc1MzBfcG9ydF92bGFuX3ByZXBhcmUsCiAJLnBv
cnRfdmxhbl9hZGQJCT0gbXQ3NTMwX3BvcnRfdmxhbl9hZGQsCiAJLnBvcnRfdmxhbl9kZWwJCT0g
bXQ3NTMwX3BvcnRfdmxhbl9kZWwsCisJLnBoeWxpbmtfdmFsaWRhdGUJPSBtdDc1MzBfcGh5bGlu
a192YWxpZGF0ZSwKKwkucGh5bGlua19tYWNfbGlua19zdGF0ZSA9IG10NzUzMF9waHlsaW5rX21h
Y19saW5rX3N0YXRlLAorCS5waHlsaW5rX21hY19jb25maWcJPSBtdDc1MzBfcGh5bGlua19tYWNf
Y29uZmlnLAorCS5waHlsaW5rX21hY19saW5rX2Rvd24JPSBtdDc1MzBfcGh5bGlua19tYWNfbGlu
a19kb3duLAorCS5waHlsaW5rX21hY19saW5rX3VwCT0gbXQ3NTMwX3BoeWxpbmtfbWFjX2xpbmtf
dXAsCiB9OwogCiBzdGF0aWMgY29uc3Qgc3RydWN0IG9mX2RldmljZV9pZCBtdDc1MzBfb2ZfbWF0
Y2hbXSA9IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L2RzYS9tdDc1MzAuaCBiL2RyaXZlcnMv
bmV0L2RzYS9tdDc1MzAuaAppbmRleCBiZmFjOTBmNDgxMDIuLjEwN2RkMDRhY2VkZSAxMDA2NDQK
LS0tIGEvZHJpdmVycy9uZXQvZHNhL210NzUzMC5oCisrKyBiL2RyaXZlcnMvbmV0L2RzYS9tdDc1
MzAuaApAQCAtMTk4LDI2ICsxOTgsMjAgQEAgZW51bSBtdDc1MzBfdmxhbl9wb3J0X2F0dHIgewog
I2RlZmluZSAgUE1DUl9GT1JDRV9TUEVFRF8xMDAJCUJJVCgyKQogI2RlZmluZSAgUE1DUl9GT1JD
RV9GRFgJCQlCSVQoMSkKICNkZWZpbmUgIFBNQ1JfRk9SQ0VfTE5LCQkJQklUKDApCi0jZGVmaW5l
ICBQTUNSX0NPTU1PTl9MSU5LCQkoUE1DUl9JRkdfWE1JVCgxKSB8IFBNQ1JfTUFDX01PREUgfCBc
Ci0JCQkJCSBQTUNSX0JBQ0tPRkZfRU4gfCBQTUNSX0JBQ0tQUl9FTiB8IFwKLQkJCQkJIFBNQ1Jf
VFhfRU4gfCBQTUNSX1JYX0VOIHwgXAotCQkJCQkgUE1DUl9UWF9GQ19FTiB8IFBNQ1JfUlhfRkNf
RU4pCi0jZGVmaW5lICBQTUNSX0NQVVBfTElOSwkJCShQTUNSX0NPTU1PTl9MSU5LIHwgUE1DUl9G
T1JDRV9NT0RFIHwgXAotCQkJCQkgUE1DUl9GT1JDRV9TUEVFRF8xMDAwIHwgXAotCQkJCQkgUE1D
Ul9GT1JDRV9GRFggfCBcCi0JCQkJCSBQTUNSX0ZPUkNFX0xOSykKLSNkZWZpbmUgIFBNQ1JfVVNF
UlBfTElOSwkJUE1DUl9DT01NT05fTElOSwotI2RlZmluZSAgUE1DUl9GSVhFRF9MSU5LCQkoUE1D
Ul9JRkdfWE1JVCgxKSB8IFBNQ1JfTUFDX01PREUgfCBcCi0JCQkJCSBQTUNSX0ZPUkNFX01PREUg
fCBQTUNSX1RYX0VOIHwgXAotCQkJCQkgUE1DUl9SWF9FTiB8IFBNQ1JfQkFDS1BSX0VOIHwgXAot
CQkJCQkgUE1DUl9CQUNLT0ZGX0VOIHwgXAotCQkJCQkgUE1DUl9GT1JDRV9TUEVFRF8xMDAwIHwg
XAotCQkJCQkgUE1DUl9GT1JDRV9GRFggfCBcCi0JCQkJCSBQTUNSX0ZPUkNFX0xOSykKLSNkZWZp
bmUgUE1DUl9GSVhFRF9MSU5LX0ZDCQkoUE1DUl9GSVhFRF9MSU5LIHwgXAotCQkJCQkgUE1DUl9U
WF9GQ19FTiB8IFBNQ1JfUlhfRkNfRU4pCisjZGVmaW5lICBQTUNSX1NQRUVEX01BU0sJCShQTUNS
X0ZPUkNFX1NQRUVEXzEwMCB8IFwKKwkJCQkJIFBNQ1JfRk9SQ0VfU1BFRURfMTAwMCkKIAogI2Rl
ZmluZSBNVDc1MzBfUE1TUl9QKHgpCQkoMHgzMDA4ICsgKHgpICogMHgxMDApCisjZGVmaW5lICBQ
TVNSX0VFRTFHCQkJQklUKDcpCisjZGVmaW5lICBQTVNSX0VFRTEwME0JCQlCSVQoNikKKyNkZWZp
bmUgIFBNU1JfUlhfRkMJCQlCSVQoNSkKKyNkZWZpbmUgIFBNU1JfVFhfRkMJCQlCSVQoNCkKKyNk
ZWZpbmUgIFBNU1JfU1BFRURfMTAwMAkJQklUKDMpCisjZGVmaW5lICBQTVNSX1NQRUVEXzEwMAkJ
CUJJVCgyKQorI2RlZmluZSAgUE1TUl9TUEVFRF8xMAkJCTB4MDAKKyNkZWZpbmUgIFBNU1JfU1BF
RURfTUFTSwkJKFBNU1JfU1BFRURfMTAwIHwgUE1TUl9TUEVFRF8xMDAwKQorI2RlZmluZSAgUE1T
Ul9EUFgJCQlCSVQoMSkKKyNkZWZpbmUgIFBNU1JfTElOSwkJCUJJVCgwKQogCiAvKiBSZWdpc3Rl
ciBmb3IgTUlCICovCiAjZGVmaW5lIE1UNzUzMF9QT1JUX01JQl9DT1VOVEVSKHgpCSgweDQwMDAg
KyAoeCkgKiAweDEwMCkKQEAgLTQyMyw2ICs0MTcsNyBAQCBzdHJ1Y3QgbXQ3NTMwX3BvcnQgewog
ICogQHBvcnRzOgkJSG9sZGluZyB0aGUgc3RhdGUgYW1vbmcgcG9ydHMKICAqIEByZWdfbXV0ZXg6
CQlUaGUgbG9jayBmb3IgcHJvdGVjdGluZyBhbW9uZyBwcm9jZXNzIGFjY2Vzc2luZwogICoJCQly
ZWdpc3RlcnMKKyAqIEBwNl9pbnRlcmZhY2UJSG9sZGluZyB0aGUgY3VycmVudCBwb3J0IDYgaW50
ZXJmYWNlCiAgKi8KIHN0cnVjdCBtdDc1MzBfcHJpdiB7CiAJc3RydWN0IGRldmljZQkJKmRldjsK
QEAgLTQzNSw2ICs0MzAsNyBAQCBzdHJ1Y3QgbXQ3NTMwX3ByaXYgewogCXN0cnVjdCBncGlvX2Rl
c2MJKnJlc2V0OwogCXVuc2lnbmVkIGludAkJaWQ7CiAJYm9vbAkJCW1jbTsKKwlwaHlfaW50ZXJm
YWNlX3QJCXA2X2ludGVyZmFjZTsKIAogCXN0cnVjdCBtdDc1MzBfcG9ydAlwb3J0c1tNVDc1MzBf
TlVNX1BPUlRTXTsKIAkvKiBwcm90ZWN0IGFtb25nIHByb2Nlc3NlcyBmb3IgcmVnaXN0ZXJzIGFj
Y2VzcyovCi0tIAoyLjIwLjEKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpMaW51eC1tZWRpYXRlayBtYWlsaW5nIGxpc3QKTGludXgtbWVkaWF0ZWtAbGlz
dHMuaW5mcmFkZWFkLm9yZwpodHRwOi8vbGlzdHMuaW5mcmFkZWFkLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2xpbnV4LW1lZGlhdGVrCg==
